Index: app/src/main/java/com/college/quiz1_question/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.college.quiz1_question;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    //设置计数器显示的数字\r\n    int mCounter;\r\n    //button创建变量去调用setOnclick function\r\n    Button reset, increment, decrement;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //将variable与layout关联上\r\n        //counterView is the TextView that displays the value of the counter\r\n        TextView counterView = findViewById(R.id.counterId);\r\n        Button reset = findViewById(R.id.buttonResetId);\r\n        Button increment = findViewById(R.id.buttonIncId);\r\n        Button decrement = findViewById(R.id.buttonDecId);\r\n\r\n        //TODO\r\n        // Your code goes here\r\n\r\n\r\n        //每点一次加5\r\n        increment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                mCounter += 5;\r\n                //将数字换成string\r\n                counterView.setText(String.valueOf(mCounter));\r\n            }\r\n        });\r\n\r\n        //每点击一次减1\r\n        decrement.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(mCounter <= 0){\r\n                    mCounter=0;\r\n                }else {\r\n                    mCounter--;\r\n                }\r\n                counterView.setText(String.valueOf(mCounter));\r\n            }\r\n        });\r\n\r\n        //reset方法\r\n        reset.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                mCounter = 0;\r\n                counterView.setText(String.valueOf(mCounter));\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/college/quiz1_question/MainActivity.java b/app/src/main/java/com/college/quiz1_question/MainActivity.java
--- a/app/src/main/java/com/college/quiz1_question/MainActivity.java	(revision 835bec52cc95997de3547ab3389f506060e4d4b9)
+++ b/app/src/main/java/com/college/quiz1_question/MainActivity.java	(date 1655905565048)
@@ -1,68 +1,173 @@
 package com.college.quiz1_question;
 
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.core.content.ContextCompat;
 
+import android.content.SharedPreferences;
+import android.graphics.Color;
 import android.os.Bundle;
 import android.view.View;
+import android.graphics.drawable.ColorDrawable;
 import android.widget.Button;
+import android.widget.EditText;
 import android.widget.TextView;
 
 public class MainActivity extends AppCompatActivity {
-    //设置计数器显示的数字
-    int mCounter;
-    //button创建变量去调用setOnclick function
-    Button reset, increment, decrement;
+
+    // Current count.
+    private int mCount = 0;
+    // Current background color.
+    private int mColor;
+    // Text view to display both count and color.
+    private TextView mShowCountTextView;
+
+    // Key for current count当前计数键
+    private final String COUNT_KEY = "count";
+    // Key for current color当前颜色（为了存储）
+    private final String COLOR_KEY = "color";
+
+    // Shared preferences object
+    private SharedPreferences mPreferences;
+    // Name of shared preferences file
+    private static final String mSharedPrefFile = "mysharedprefs";
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_main);
 
-        //将variable与layout关联上
-        //counterView is the TextView that displays the value of the counter
-        TextView counterView = findViewById(R.id.counterId);
-        Button reset = findViewById(R.id.buttonResetId);
-        Button increment = findViewById(R.id.buttonIncId);
-        Button decrement = findViewById(R.id.buttonDecId);
+        // Initialize views, color, preferences
+        mShowCountTextView = findViewById(R.id.count_textview);
+        mColor = ContextCompat.getColor(this, R.color.default_background);
+        //写入数据：步骤1：创建一个Sharedpreferences对象，
+        //获取Sharedpreferences的方法
+        mPreferences = getSharedPreferences(mSharedPrefFile, MODE_PRIVATE);
 
-        //TODO
-        // Your code goes here
+        Button savePref = findViewById(R.id.save_button);
+        savePref.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                savePrefs(mShowCountTextView);
 
+            }
+        });
 
-        //每点一次加5
-        increment.setOnClickListener(new View.OnClickListener() {
+        Button restaure = findViewById(R.id.start_activity_button);
+        restaure.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-                mCounter += 5;
-                //将数字换成string
-                counterView.setText(String.valueOf(mCounter));
+                restaurePrefs(mShowCountTextView);
+
             }
         });
 
-        //每点击一次减1
-        decrement.setOnClickListener(new View.OnClickListener() {
+
+    }
+
+    /**
+     * Handles the onClick for the background color buttons.
+     * Gets background color of the button
+     * that was clicked and sets the textview background to that color.
+     * Saves the current background
+     *
+     * @param view The view (Button) that was clicked.
+     */
+    public void changeBackground(View view) {
+        int color = ((ColorDrawable) view.getBackground()).getColor();
+        mShowCountTextView.setBackgroundColor(color);
+        mColor = color;
+    }
+
+    //TODO 1
+    /**
+     * Handles the onClick for the Count button.  Increments the value of the mCount global and
+     * updates the textview.
+     *
+     * @param view The view (Button) that was clicked.
+     */
+    public void countUp(View view) {
+        Button count = findViewById(R.id.count_button);
+        count.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-                if(mCounter <= 0){
-                    mCounter=0;
-                }else {
-                    mCounter--;
-                }
-                counterView.setText(String.valueOf(mCounter));
-            }
-        });
+                mCount++;
+                mShowCountTextView.setText(String.valueOf(mCount));
+
+            }
+        });
+
+
+    }
 
-        //reset方法
+    //TODO 2
+    /**
+     * Handles the onClick for the Reset button.
+     * Resets the global count and background
+     * variables to the defaults, resets the views to those values,
+     * and clears the shared preferences
+     *
+     * @param view The view (Button) that was clicked.
+     */
+    public void reset(View view) {
+        Button reset = findViewById(R.id.reset_button);
         reset.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-                mCounter = 0;
-                counterView.setText(String.valueOf(mCounter));
+                mCount =0;
+                mShowCountTextView.setText(String.valueOf(mCount));
+                mColor = ContextCompat.getColor(MainActivity.this,R.color.default_background);
+                mShowCountTextView.setBackgroundColor(mColor);
 
+                //clear perferencew
+                SharedPreferences.Editor preferencesEditor = mPreferences.edit();
+                preferencesEditor.clear();
+                preferencesEditor.apply();
             }
         });
 
+    }
+
+
+    //TODO 3
+    /**
+     * Handles the onClick for the 'Save Prefs' button.
+     * Saves the Color and Counter to shared preferences
+     *
+     * @param view The view (Button) that was clicked.
+     */
 
+
+    public void savePrefs(View view) {
+                //步骤2：实例化sharedpreference.editor对象，为了写入数据
+                SharedPreferences preferences = getSharedPreferences(mSharedPrefFile,MODE_PRIVATE);
+                SharedPreferences.Editor preferencesEditor = preferences.edit();
+                //步骤3：将获取过来的值放入文件
+                preferencesEditor.putInt(COUNT_KEY,mCount);
+                preferencesEditor.putInt(COUNT_KEY,mColor);
+                //提交
+                preferencesEditor.apply();
+
+    }
+
+    //TODO 4
+    /**
+     * Handles the onClick for the 'Restaure Prefs' button.
+     * Reads the Color and Counter from the Preferences
+     * Updates the color and counter textviews.
+     *
+     * @param view The view (Button) that was clicked.
+     */
+    public void restaurePrefs(View view) {
+
+        SharedPreferences preferences = getSharedPreferences(mSharedPrefFile,MODE_PRIVATE);
+
+                mCount= preferences.getInt("COUNT_KEY",mCount);
+                mShowCountTextView.setText(String.valueOf(mCount));
+                mColor=preferences.getInt("COUNT_KEY",mColor);
+                mShowCountTextView.setBackgroundColor(mColor);
+
+
+
+    }
 
-    }
-}
\ No newline at end of file
+}
